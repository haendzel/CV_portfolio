"use strict";function RecaptchaClearMsg(){document.querySelector(".g-recaptcha").focus()}$(function(){var o={};document.querySelectorAll(".form-data").forEach(function(e){o[e.getAttribute("name")]=e});var r=document.querySelector(".g-recaptcha"),l=function(e,t){return"Pole "+e+" musi zawierać co najmniej "+t+" znaki."},a=function(e,t){return"Pole "+e+" może zawierać co najwyżej "+t+" znaków."},c=function(e){return"Pole "+e+" nie może być puste."},d=function(e){return"Pole "+e+" jest niepoprawne."},s="W formularzu występują błędy.",u="Potwierdź, że nie jesteś robotem.",i=$("#contact-form"),h=document.querySelector(".emailFormAlert");function t(e){if("boolean"!=typeof e)throw new TypeError("State must be a boolean");if(!0===e)i.fadeIn(),i.attr("aria-hidden","false"),v.focus();else{for(var t in i.fadeOut(),i.attr("aria-hidden","true"),o)o[t].value="";grecaptcha.reset(),f.focus()}}var n=$("#close-contact-btn"),f=$("#open-contact-btn");f.click(function(){t(!0)}),n.click(function(){t(!1)});var v=$(".form-data:first");function g(e,t){if(!e.classList.contains("wrongInput")){var i=document.createElement("p");i.classList.add("error"),i.classList.add("wrongInput"),i.textContent=t,e.parentElement.append(i),e.classList.add("wrongInput"),e.addEventListener("focus",p)}}function p(){this.classList.remove("wrongInput"),this.parentElement.removeChild(this.parentElement.getElementsByClassName("error")[0]),h.innerHTML=""}"#contact-form"===document.location.hash&&(f.focus(),f.click()),n.on("keydown",function(e){9!==e.which||e.shiftKey||(e.preventDefault(),v.focus())}),v.on("keydown",function(e){9===e.which&&e.shiftKey&&(e.preventDefault(),n.focus())}),i.on("keydown",function(e){27===e.which&&t(!1)}),$(".emailFormSubmit").click(function(e){if(h.innerHTML='<i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>',e.preventDefault(),!0===function(){var e=!0;for(var t in o){var i=o[t].parentElement.innerText;if(!0===o[t].validity.valueMissing)g(o[t],c(i.toLowerCase()));else if(!0===o[t].validity.tooShort){var n=o[t].getAttribute("minlength");g(o[t],l(i.toLowerCase(),n))}else if(!0===o[t].validity.tooLong){var s=o[t].getAttribute("maxlength");g(o[t],a(i.toLowerCase(),s))}else!0===o[t].validity.typeMismatch&&g(o[t],d(i.toLowerCase()));!1===o[t].validity.valid&&(e=!1)}0===grecaptcha.getResponse().length&&(g(r,u),e=!1);return e}()){var t={"g-recaptcha-response":grecaptcha.getResponse()};for(var i in grecaptcha.reset(),o)t[i]=o[i].value;var n=$.ajax({type:"POST",url:document.querySelector(".emailForm").getAttribute("action"),dataType:"json",data:t});n.fail(function(e){console.log(e),h.innerHTML=s}),n.done(function(e){console.log(e),h.innerHTML="Message was sent. Thank you!"})}else h.innerHTML=s}),window.recaptchaClearErr=function(){document.querySelector(".g-recaptcha").focus()}});var myLightbox=GLightbox({selector:"glightboxTest"});$("#toggle").click(function(){$(this).toggleClass("active"),$("#overlay").toggleClass("open")});var typed=new Typed("#typing-element",{strings:['Hello, my name is Filip Handzel.<br>I graduated from Jan Matejko Academy of Fine Arts in Krakow.<br>I like programming, design, electronic and robotic art.<br> I would like to be junior front-end developer!<br><br>Click <a target="_blank" rel="noopener noreferrer" href="filiphandzel-cv.pdf">here</a> to download my CV'],typeSpeed:60,startDelay:1e3,loop:!1});function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){if("function"==typeof define&&define.amd)define("GLightbox",["module"],t);else if("undefined"!=typeof exports)t(module);else{var i={exports:{}};t(i),(void 0).GLightbox=i.exports}}(0,function(e){var t=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e};function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},C=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),s=null!==C||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,o=document.getElementsByTagName("html")[0],A=document.body,r=function(){var e=void 0,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),l=function(){var e=void 0,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),a=Date.now(),T=[],L={},c={selector:"glightbox",skin:"clean",closeButton:!0,startAt:0,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:960,videosHeight:540,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loopAtEnd:!1,touchNavigation:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,jwplayer:{api:null,licenseKey:null,params:{width:"100%",aspectratio:"16:9",stretching:"uniform"}},vimeo:{api:"https://player.vimeo.com/api/player.js",params:{api:1,title:0,byline:0,portrait:0}},youtube:{api:"https://www.youtube.com/iframe_api",params:{enablejsapi:1,showinfo:0}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,slideHtml:"",lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}}};c.slideHtml='<div class="gslide">         <div class="gslide-inner-content">            <div class="ginner-container">               <div class="gslide-media">               </div>               <div class="gslide-description">                  <h4 class="gslide-title"></h4>                  <div class="gslide-desc"></div>               </div>            </div>         </div>       </div>';function O(e){var i={},n=!1,t=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(e)&&(n=e,t++);for(var o=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=O(!0,i[t],e[t]):i[t]=e[t])};t<s;t++){o(arguments[t])}return i}c.lightboxHtml='<div id="glightbox-body" class="glightbox-container">            <div class="gloader visible"></div>            <div class="goverlay"></div>            <div class="gcontainer">               <div id="glightbox-slider" class="gslider"></div>               <a class="gnext"></a>               <a class="gprev"></a>               <a class="gclose"></a>            </div>   </div>';var N={isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},isNode:function(e){return!(!e||!e.nodeType||1!=e.nodeType)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e&&e.length&&isFinite(e.length)},isObject:function(e){return"object"===(void 0===e?"undefined":i(e))&&null!=e&&!N.isFunction(e)&&!N.isArray(e)},isNil:function(e){return null==e},has:function(e,t){return null!==e&&hasOwnProperty.call(e,t)},size:function(e){if(N.isObject(e)){if(e.keys)return e.keys().length;var t=0;for(var i in e)N.has(e,i)&&t++;return t}return e.length},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}};function p(e,t){if(!N.isNode(e)&&e!==window&&e!==document||(e=[e]),N.isArrayLike(e)||N.isObject(e)||(e=[e]),0!=N.size(e))if(N.isArrayLike(e)&&!N.isObject(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(N.isObject(e))for(var s in e)if(N.has(e,s)&&!1===t.call(e[s],e[s],s,e))break}function g(e,t,i){var n=1<arguments.length&&void 0!==t?t:null,s=2<arguments.length&&void 0!==i?i:null,o=e[a]=e[a]||[],r={all:o,evt:null,found:null};return n&&s&&0<N.size(o)&&p(o,function(e,t){if(e.eventName==n&&e.fn.toString()==s.toString())return r.found=!0,r.evt=t,!1}),r}function q(i,e,t){var n=1<arguments.length&&void 0!==e?e:{},s=n.onElement,o=n.withCallback,r=n.avoidDuplicate,l=void 0===r||r,a=n.once,c=void 0!==a&&a,d=n.useCapture,u=void 0!==d&&d,h=t,f=s||[];function v(e){N.isFunction(o)&&o.call(h,e,this),c&&v.destroy()}return N.isString(f)&&(f=document.querySelectorAll(f)),v.destroy=function(){p(f,function(e){var t=g(e,i,v);t.found&&t.all.splice(t.evt,1),e.removeEventListener&&e.removeEventListener(i,v,u)})},p(f,function(e){var t=g(e,i,v);(e.addEventListener&&l&&!t.found||!l)&&(e.addEventListener(i,v,u),t.all.push({eventName:i,fn:v}))}),v}function j(e,t){F(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function I(t,e){var i=e.split(" ");1<i.length?p(i,function(e){I(t,e)}):t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function F(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function d(t,e,i){var n=1<arguments.length&&void 0!==e?e:"",s=2<arguments.length&&void 0!==i&&i;if(!t||""===n)return!1;if("none"==n)return N.isFunction(s)&&s(),!1;var o=n.split(" ");p(o,function(e){j(t,"g"+e)}),q(l,{onElement:t,avoidDuplicate:!1,once:!0,withCallback:function(e,t){p(o,function(e){I(t,"g"+e)}),N.isFunction(s)&&s()}})}function M(e){var t=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function y(e,t){for(;e!==document.body;){if("function"==typeof(e=e.parentElement).matches?e.matches(t):e.msMatchesSelector(t))return e}}function u(e){e.style.display="block"}function h(e){e.style.display="none"}function f(e,t){var n=0<arguments.length&&void 0!==e?e:null,s=t,r={href:"",title:"",description:"",descPosition:"bottom",effect:"",node:n};if(N.isObject(n)&&!N.isNode(n))return O(r,n);var i="",l=n.getAttribute("data-glightbox"),o=n.nodeName.toLowerCase();"a"===o&&(i=n.href),"img"===o&&(i=n.src),r.href=i,p(r,function(e,t){N.has(s,t)&&(r[t]=s[t]);var i=n.dataset[t];N.isNil(i)||(r[t]=i)});var a=b(i);if(r=O(r,a),N.isNil(l)){if("a"==o){var c=n.title;N.isNil(c)||""===c||(r.title=c)}if("img"==o){var d=n.alt;N.isNil(d)||""===d||(r.title=d)}var u=n.getAttribute("data-description");N.isNil(u)||""===u||(r.description=u)}else{var h=[];p(r,function(e,t){h.push(";\\s?"+t)}),h=h.join("\\s?:|"),""!==l.trim()&&p(r,function(e,t){var i=l,n=new RegExp("s?"+t+"s?:s?(.*?)("+h+"s?:|$)"),s=i.match(n);if(s&&s.length&&s[1]){var o=s[1].trim().replace(/;\s*$/,"");r[t]=o}})}var f=n.querySelector(".glightbox-desc");f&&(r.description=f.innerHTML),r.sourcetype=r.hasOwnProperty("type")?r.type:r.sourcetype,r.type=r.sourcetype;var v="video"==r.sourcetype?s.videosWidth:s.width,g="video"==r.sourcetype?s.videosHeight:s.height;return r.width=N.has(r,"width")?r.width:v,r.height=N.has(r,"height")?r.height:g,r}function v(e,t,i){var n=0<arguments.length&&void 0!==e?e:null,s=this,o=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i&&i;if(F(n,"loaded"))return!1;N.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(n,o);var l=o.type,a=o.descPosition,c=n.querySelector(".gslide-media"),d=n.querySelector(".gslide-title"),u=n.querySelector(".gslide-desc"),h=n.querySelector(".gslide-description"),f=r;if(N.isFunction(this.settings.afterSlideLoad)&&(f=function(){N.isFunction(r)&&r(),s.settings.afterSlideLoad(n,o)}),""==o.title&&""==o.description?h&&h.parentNode.removeChild(h):(d&&""!==o.title?d.innerHTML=o.title:d.parentNode.removeChild(d),u&&""!==o.description?C&&0<this.settings.moreLength?(o.smallDescription=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:50,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=i;if((e=e.trim()).length<=t)return e;var s=e.substr(0,t-1);return n?s+'... <a href="#" class="desc-more">'+i+"</a>":s}(o.description,this.settings.moreLength,this.settings.moreText),u.innerHTML=o.smallDescription,function s(e,o){var t=e.querySelector(".desc-more");if(!t)return!1;q("click",{onElement:t,withCallback:function(e,t){e.preventDefault();var i=y(t,".gslide-desc");if(!i)return!1;i.innerHTML=o.description,j(A,"gdesc-open");var n=q("click",{onElement:[A,y(i,".gslide-description")],withCallback:function(e,t){"a"!==e.target.nodeName.toLowerCase()&&(I(A,"gdesc-open"),j(A,"gdesc-closed"),i.innerHTML=o.smallDescription,s(i,o),setTimeout(function(){I(A,"gdesc-closed")},400),n.destroy())}})}})}.apply(this,[u,o])):u.innerHTML=o.description:u.parentNode.removeChild(u),j(c.parentNode,"desc-"+a),j(h,"description-"+a)),j(c,"gslide-"+l),j(n,"loaded"),"video"!==l)if("external"!==l)if("inline"!==l){if("image"===l){var v=new Image;return v.addEventListener("load",function(){N.isFunction(f)&&f()},!1),v.src=o.href,void c.appendChild(v)}N.isFunction(f)&&f()}else(function(e,t,i){var n=e.querySelector(".gslide-media"),s=document.getElementById(t.inlined.replace("#",""));if(s){var o=s.cloneNode(!0);return o.style.height=t.height+"px",o.style.maxWidth=t.width+"px",j(o,"ginlined-content"),n.appendChild(o),void(N.isFunction(i)&&i())}}).apply(this,[n,o,f]);else{var g=P(o.href,o.width,o.height,f);c.appendChild(g)}else(function(e,i,n){var s=this,t=i.source,o="gvideo"+i.index,r=e.querySelector(".gslide-media"),l=i.href,a=location.protocol.replace(":","");"file"==a&&(a="http");if("vimeo"==t){var c=/vimeo.*\/(\d+)/i.exec(l),d=H(this.settings.vimeo.params),u=a+"://player.vimeo.com/video/"+c[1]+"?"+d;B(this.settings.vimeo.api);var h=P(u,i.width,i.height,function(){!function(e,t,i,n){if(e())return t();i=i||100;var s,o=setInterval(function(){e()&&(clearInterval(o),s&&clearTimeout(s),t())},i);n&&(s=setTimeout(function(){clearInterval(o)},n))}(function(){return"undefined"!=typeof Vimeo},function(){var e=new Vimeo.Player(h);L[o]=e,N.isFunction(n)&&n()})},r);h.id=o,h.className="vimeo-video gvideo",this.settings.autoplayVideos&&!C&&(h.className+=" wait-autoplay")}if("youtube"==t){var f=H(O(this.settings.youtube.params,{playerapiid:o})),v=function(e){var t="";t=void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?(t=e[2].split(/[^0-9a-z_\-]/i))[0]:e;return t}(l),g=a+"://www.youtube.com/embed/"+v+"?"+f;B(this.settings.youtube.api);var p=P(g,i.width,i.height,function(){if(!N.isNil(YT)&&YT.loaded){var e=new YT.Player(p);L[o]=e}else T.push(p);N.isFunction(n)&&n()},r);p.id=o,p.className="youtube-video gvideo",this.settings.autoplayVideos&&!C&&(p.className+=" wait-autoplay")}if("local"==t){var y='<video id="'+o+'" ';y+='style="background:#000; width: '+i.width+"px; height: "+i.height+'px;" ',y+='preload="metadata" ',y+='x-webkit-airplay="allow" ',y+='webkit-playsinline="" ',y+="controls ",y+='class="gvideo">';var m=l.toLowerCase().split(".").pop(),b={mp4:"",ogg:"",webm:""};for(var w in b[m]=l,b)if(b.hasOwnProperty(w)){var S=b[w];i.hasOwnProperty(w)&&(S=i[w]),""!==S&&(y+='<source src="'+S+'" type="video/'+w+'">')}var x=M(y+="</video>");r.appendChild(x);var k=document.getElementById(o);if(null!==this.settings.jwplayer&&null!==this.settings.jwplayer.api){this.settings.jwplayer;var E=this.settings.jwplayer.api;if(!E)return console.warn("Missing jwplayer api file"),N.isFunction(n)&&n(),!1;B(E,function(){var e=O(s.settings.jwplayer.params,{width:i.width+"px",height:i.height+"px",file:l});jwplayer.key=s.settings.jwplayer.licenseKey;var t=jwplayer(o);t.setup(e),(L[o]=t).on("ready",function(){j(k=r.querySelector(".jw-video"),"gvideo"),k.id=o,N.isFunction(n)&&n()})})}else j(k,"html5-video"),L[o]=k,N.isFunction(n)&&n()}}).apply(this,[n,o,f])}function P(e,t,i,n,s){var o=document.createElement("iframe"),r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return o.className="vimeo-video gvideo",o.src=e,o.style.height=C&&r<767?"":i+"px",o.style.width=t+"px",o.setAttribute("allowFullScreen",""),o.onload=function(){j(o,"iframe-ready"),N.isFunction(n)&&n()},s&&s.appendChild(o),o}function B(e,t){if(N.isNil(e))console.error("Inject videos api error");else{var i=document.querySelectorAll('script[src="'+e+'"]');if(N.isNil(i)||0==i.length){var n=document.createElement("script");return n.type="text/javascript",n.src=e,n.onload=function(){N.isFunction(t)&&t()},document.body.appendChild(n),!1}N.isFunction(t)&&t()}}function m(){for(var e=0;e<T.length;e++){var t=T[e],i=new YT.Player(t);L[t.id]=i}}function H(e){var i="",n=0;return p(e,function(e,t){0<n&&(i+="&amp;"),i+=t+"="+e,n+=1}),i}void 0!==window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady(),m()}:window.onYouTubeIframeAPIReady=m;var b=function(e){var t=e,i={};if(null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|gif|png|apn|webp|svg)$/))return i.sourcetype="image",i;if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return i.sourcetype="video",i.source="youtube",i;if(e.match(/vimeo\.com\/([0-9]*)/))return i.sourcetype="video",i.source="vimeo",i;if(null!==e.match(/\.(mp4|ogg|webm)$/))return i.sourcetype="video",i.source="local",i;if(-1<e.indexOf("#")){var n=t.split("#").pop();if(""!==n.trim())return i.sourcetype="inline",i.source=e,i.inlined="#"+n,i}return e.includes("gajax=true")&&(i.sourcetype="ajax",i.source=e),i.sourcetype="external",i.source=e,i};function z(e,t){var i=1<arguments.length&&void 0!==t?t:"";if(""==i)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=i,e.style.MozTransform=i,e.style.msTransform=i,e.style.OTransform=i,e.style.transform=i}function D(e){var t=e.querySelector(".gslide-media"),i=e.querySelector(".gslide-description");j(t,"greset"),z(t,"translate3d(0, 0, 0)");q(r,{onElement:t,once:!0,withCallback:function(){I(t,"greset")}});t.style.opacity="",i&&(i.style.opacity="")}var w=(t(S,[{key:"init",value:function(){var i=this;this.baseEvents=q("click",{onElement:"."+this.settings.selector,withCallback:function(e,t){e.preventDefault(),i.open(t)}})}},{key:"open",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;if(this.elements=this.getElements(t),0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=this.settings.startAt;t&&(i=this.elements.indexOf(t))<0&&(i=0),this.build(),d(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var n=A.offsetWidth;if(A.style.width=n+"px",j(A,"glightbox-open"),j(o,"glightbox-open"),C&&(j(o,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(i,!0),1==this.elements.length?(h(this.prevButton),h(this.nextButton)):(u(this.prevButton),u(this.nextButton)),this.lightboxOpen=!0,N.isFunction(this.settings.onOpen)&&this.settings.onOpen(),C&&s&&this.settings.touchNavigation)return function(){var c=this;if(this.events.hasOwnProperty("touchStart"))return!1;var d=void 0,u=void 0,h=void 0,f=!1,v=!1,g=!1,p=!1,y={},m={},b=(this.slidesContainer,null),w=0,S=0,t=null,x=null,k=null,E=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.events.doctouchmove=q("touchmove",{onElement:document,withCallback:function(e){if(F(A,"gdesc-open"))return e.preventDefault(),!1}}),this.events.touchStart=q("touchstart",{onElement:A,withCallback:function(e){F(A,"gdesc-open")||(j(A,"touching"),b=c.getActiveSlide(),t=b.querySelector(".gslide-image"),x=b.querySelector(".gslide-media"),k=b.querySelector(".gslide-description"),c.index,m=e.targetTouches[0],y.pageX=e.targetTouches[0].pageX,y.pageY=e.targetTouches[0].pageY,w=e.targetTouches[0].clientX,S=e.targetTouches[0].clientY)}}),this.events.gestureStart=q("gesturestart",{onElement:A,withCallback:function(e){t&&(e.preventDefault(),g=!0)}}),this.events.gestureChange=q("gesturechange",{onElement:A,withCallback:function(e){e.preventDefault(),z(t,"scale("+e.scale+")")}}),this.events.gesturEend=q("gestureend",{onElement:A,withCallback:function(e){g=!1,e.scale<1?(p=!1,z(t,"scale(1)")):p=!0}}),this.events.touchMove=q("touchmove",{onElement:A,withCallback:function(e){if(F(A,"touching")&&!(F(A,"gdesc-open")||g||p)){e.preventDefault(),m=e.targetTouches[0];var t=b.querySelector(".gslide-inner-content").offsetHeight,i=b.querySelector(".gslide-inner-content").offsetWidth,n=e.targetTouches[0].clientX,s=e.targetTouches[0].clientY,o=w-n,r=S-s;if(Math.abs(o)>Math.abs(r)?v=!(f=!1):f=!(v=!1),f){if(u=m.pageY-y.pageY,0<=Math.abs(u)||f){var l=.75-Math.abs(u)/t;x.style.opacity=l,k&&(k.style.opacity=l),z(x,"translate3d(0, "+u+"px, 0)")}}else if(d=m.pageX-y.pageX,h=100*d/E,v){if(c.index+1==c.elements.length&&d<-60)return D(b),!1;if(c.index-1<0&&60<d)return D(b),!1;var a=.75-Math.abs(d)/i;x.style.opacity=a,k&&(k.style.opacity=a),z(x,"translate3d("+h+"%, 0, 0)")}}}}),this.events.touchEnd=q("touchend",{onElement:A,withCallback:function(){u=m.pageY-y.pageY,d=m.pageX-y.pageX,h=100*d/E,I(A,"touching");var e=b.querySelector(".gslide-inner-content").offsetHeight,t=b.querySelector(".gslide-inner-content").offsetWidth;if(f){var i=e/2;return f=!1,Math.abs(u)>=i?void c.close():void D(b)}if(v){var n="prev",s=!(v=!1);if(d<0&&(n="next",d=Math.abs(d)),"prev"==n&&c.index-1<0&&(s=!1),"next"==n&&c.index+1>=c.elements.length&&(s=!1),s&&t/2-90<=d)return void("next"==n?c.nextSlide():c.prevSlide());D(b)}}})}.apply(this),!1;this.settings.keyboardNavigation&&function(){var i=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=q("keydown",{onElement:window,withCallback:function(e){var t=(e=e||window.event).keyCode;39==t&&i.nextSlide(),37==t&&i.prevSlide(),27==t&&i.close()}})}.apply(this)}},{key:"showSlide",value:function(e,t){var i=this,n=0<arguments.length&&void 0!==e?e:0,s=1<arguments.length&&void 0!==t&&t;u(this.loader),this.index=n;var o=this.slidesContainer.querySelector(".current");o&&I(o,"current"),this.slideAnimateOut();var r=this.slidesContainer.querySelectorAll(".gslide")[n];if(u(this.slidesContainer),F(r,"loaded"))this.slideAnimateIn(r,s),h(this.loader);else{u(this.loader);var l=f(this.elements[n],this.settings);l.index=n,v.apply(this,[r,l,function(){h(i.loader),i.slideAnimateIn(r,s)}])}this.preloadSlide(n+1),this.preloadSlide(n-1),I(this.nextButton,"disabled"),I(this.prevButton,"disabled"),0===n?j(this.prevButton,"disabled"):n===this.elements.length-1&&!0!==this.settings.loopAtEnd&&j(this.nextButton,"disabled"),this.activeSlide=r}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length)return!1;if(N.isNil(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(".gslide")[e];if(F(i,"loaded"))return!1;var n=f(this.elements[e],this.settings);n.index=e;var s=n.sourcetype;"video"==s||"external"==s?setTimeout(function(){v.apply(t,[i,n])},200):v.apply(this,[i,n])}},{key:"prevSlide",value:function(){var e=this.index-1;if(e<0)return!1;this.goToSlide(e)}},{key:"nextSlide",value:function(){var e=this.index+1;if(e>this.elements.length)return!1;this.goToSlide(e)}},{key:"goToSlide",value:function(e){var t=0<arguments.length&&void 0!==e&&e;-1<t&&(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,t<this.elements.length?this.showSlide(t):!0===this.settings.loopAtEnd&&(t=0,this.showSlide(t)))}},{key:"slideAnimateIn",value:function(e,t){var i=this,n=e.querySelector(".gslide-media"),s=e.querySelector(".gslide-description"),o={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},r={index:this.index,slide:this.activeSlide};if(0<n.offsetWidth&&s&&(h(s),e.querySelector(".ginner-container").style.maxWidth=n.offsetWidth+"px",s.style.display=""),I(e,this.effectsClasses),t)d(e,this.settings.openEffect,function(){!C&&i.settings.autoplayVideos&&i.playSlideVideo(e),N.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,r])});else{var l=this.settings.slideEffect,a="none"!==l?this.settings.cssEfects[l].in:l;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(a=this.settings.cssEfects.slide_back.in),d(e,a,function(){!C&&i.settings.autoplayVideos&&i.playSlideVideo(e),N.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,r])})}j(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var i=this.prevActiveSlide;I(i,this.effectsClasses),j(i,"prev");var e=this.settings.slideEffect,t="none"!==e?this.settings.cssEfects[e].out:e;this.stopSlideVideo(i),N.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(t=this.settings.cssEfects.slide_back.out),d(i,t,function(){var e=i.querySelector(".gslide-media"),t=i.querySelector(".gslide-description");e.style.transform="",I(e,"greset"),e.style.opacity="",t&&(t.style.opacity=""),I(i,"prev")})}},{key:"stopSlideVideo",value:function(e){N.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e?e.querySelector(".gvideo"):null;if(!t)return!1;var i=t.id;if(L&&L.hasOwnProperty(i)){var n=L[i];F(t,"vimeo-video")&&n.pause(),F(t,"youtube-video")&&n.pauseVideo(),F(t,"jw-video")&&n.pause(!0),F(t,"html5-video")&&n.pause()}}},{key:"playSlideVideo",value:function(e){N.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e.querySelector(".gvideo");if(!t)return!1;var i=t.id;if(L&&L.hasOwnProperty(i)){var n=L[i];return F(t,"vimeo-video")&&n.play(),F(t,"youtube-video")&&n.playVideo(),F(t,"jw-video")&&n.play(),F(t,"html5-video")&&n.play(),setTimeout(function(){I(t,"wait-autoplay")},300),!1}}},{key:"setElements",value:function(e){this.settings.elements=e}},{key:"getElements",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;if(this.elements=[],!N.isNil(this.settings.elements)&&N.isArray(this.settings.elements))return this.settings.elements;var i=!1;if(null!==t){var n=t.getAttribute("data-gallery");n&&""!==n&&(i=document.querySelectorAll('[data-gallery="'+n+'"]'))}return 0==i&&(i=document.querySelectorAll("."+this.settings.selector)),i=Array.prototype.slice.call(i)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var i=this.settings.cssEfects[t];e.push("g"+i.in),e.push("g"+i.out)}return e.join(" ")}},{key:"build",value:function(){var t=this;if(this.built)return!1;var e=M(this.settings.lightboxHtml);document.body.appendChild(e);var i=document.getElementById("glightbox-body"),n=(this.modal=i).querySelector(".gclose");this.prevButton=i.querySelector(".gprev"),this.nextButton=i.querySelector(".gnext"),this.overlay=i.querySelector(".goverlay"),this.loader=i.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},j(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&n&&(this.events.close=q("click",{onElement:n,withCallback:function(e){e.preventDefault(),t.close()}})),n&&!this.settings.closeButton&&n.parentNode.removeChild(n),this.nextButton&&(this.events.next=q("click",{onElement:this.nextButton,withCallback:function(e){e.preventDefault(),t.nextSlide()}})),this.prevButton&&(this.events.prev=q("click",{onElement:this.prevButton,withCallback:function(e){e.preventDefault(),t.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=q("click",{onElement:i,withCallback:function(e){y(e.target,".ginner-container")||F(e.target,"gnext")||F(e.target,"gprev")||t.close()}})),p(this.elements,function(){var e=M(t.settings.slideHtml);t.slidesContainer.appendChild(e)}),s&&j(o,"glightbox-touch"),this.built=!0}},{key:"reload",value:function(){this.init()}},{key:"close",value:function(){var t=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),j(this.modal,"glightbox-closing"),d(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),d(this.activeSlide,this.settings.closeEffect,function(){if(t.activeSlide=null,t.prevActiveSlideIndex=null,t.prevActiveSlide=null,t.built=!1,t.events)for(var e in t.events)t.events.hasOwnProperty(e)&&t.events[e].destroy();I(A,"glightbox-open"),I(o,"glightbox-open"),I(A,"touching"),I(A,"gdesc-open"),A.style.width="",t.modal.parentNode.removeChild(t.modal),N.isFunction(t.settings.onClose)&&t.settings.onClose(),t.closing=null})}},{key:"destroy",value:function(){this.close(),this.baseEvents.destroy()}}]),S);function S(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),this.settings=O(c,e||{}),this.effectsClasses=this.getAnimationClasses()}e.exports=function(){var e=new w(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return e.init(),e}}),function(e,t){if("function"==typeof define&&define.amd)define("GLightbox",["module"],t);else if("undefined"!=typeof exports)t(module);else{var i={exports:{}};t(i),(void 0).GLightbox=i.exports}}(0,function(e){function E(e){var i={},n=!1,t=0,s=arguments.length;"[object Boolean]"===Object.prototype.toString.call(e)&&(n=e,t++);for(var o=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n&&"[object Object]"===Object.prototype.toString.call(e[t])?i[t]=E(!0,i[t],e[t]):i[t]=e[t])};t<s;t++)o(arguments[t]);return i}function p(e,t){if(!z.isNode(e)&&e!==window&&e!==document||(e=[e]),z.isArrayLike(e)||z.isObject(e)||(e=[e]),0!=z.size(e))if(z.isArrayLike(e)&&!z.isObject(e))for(var i=e.length,n=0;n<i&&!1!==t.call(e[n],e[n],n,e);n++);else if(z.isObject(e))for(var s in e)if(z.has(e,s)&&!1===t.call(e[s],e[s],s,e))break}function g(e,t,i){var n=1<arguments.length&&void 0!==t?t:null,s=2<arguments.length&&void 0!==i?i:null,o=e[u]=e[u]||[],r={all:o,evt:null,found:null};return n&&s&&0<z.size(o)&&p(o,function(e,t){if(e.eventName==n&&e.fn.toString()==s.toString())return r.found=!0,r.evt=t,!1}),r}function C(i,e,t){function n(e){z.isFunction(r)&&r.call(f,e,this),d&&n.destroy()}var s=1<arguments.length&&void 0!==e?e:{},o=s.onElement,r=s.withCallback,l=s.avoidDuplicate,a=void 0===l||l,c=s.once,d=void 0!==c&&c,u=s.useCapture,h=void 0!==u&&u,f=t,v=o||[];return z.isString(v)&&(v=document.querySelectorAll(v)),n.destroy=function(){p(v,function(e){var t=g(e,i,n);t.found&&t.all.splice(t.evt,1),e.removeEventListener&&e.removeEventListener(i,n,h)})},p(v,function(e){var t=g(e,i,n);(e.addEventListener&&a&&!t.found||!a)&&(e.addEventListener(i,n,h),t.all.push({eventName:i,fn:n}))}),n}function A(e,t){L(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function T(t,e){var i=e.split(" ");1<i.length?p(i,function(e){T(t,e)}):t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function L(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function c(t,e,i){var n=1<arguments.length&&void 0!==e?e:"",s=2<arguments.length&&void 0!==i&&i;if(!t||""===n)return!1;if("none"==n)return z.isFunction(s)&&s(),!1;var o=n.split(" ");p(o,function(e){A(t,"g"+e)}),C(l,{onElement:t,avoidDuplicate:!1,once:!0,withCallback:function(e,t){p(o,function(e){T(t,"g"+e)}),z.isFunction(s)&&s()}})}function O(e){var t=document.createDocumentFragment(),i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)t.appendChild(i.firstChild);return t}function y(e,t){for(;e!==document.body;)if("function"==typeof(e=e.parentElement).matches?e.matches(t):e.msMatchesSelector(t))return e}function a(e){e.style.display="block"}function d(e){e.style.display="none"}function N(e,t,i,n,s){var o=document.createElement("iframe"),r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return o.className="vimeo-video gvideo",o.src=e,o.style.height=M&&r<767?"":i+"px",o.style.width=t+"px",o.setAttribute("allowFullScreen",""),o.onload=function(){A(o,"iframe-ready"),z.isFunction(n)&&n()},s&&s.appendChild(o),o}function q(e,t){if(z.isNil(e))console.error("Inject videos api error");else{var i=document.querySelectorAll('script[src="'+e+'"]');if(z.isNil(i)||0==i.length){var n=document.createElement("script");return n.type="text/javascript",n.src=e,n.onload=function(){z.isFunction(t)&&t()},document.body.appendChild(n),!1}z.isFunction(t)&&t()}}function t(){for(var e=0;e<B.length;e++){var t=B[e],i=new YT.Player(t);H[t.id]=i}}function j(e){var i="",n=0;return p(e,function(e,t){0<n&&(i+="&amp;"),i+=t+"="+e,n+=1}),i}function I(e,t){var i=1<arguments.length&&void 0!==t?t:"";if(""==i)return e.style.webkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform="",e.style.transform="",!1;e.style.webkitTransform=i,e.style.MozTransform=i,e.style.msTransform=i,e.style.OTransform=i,e.style.transform=i}function F(e){var t=e.querySelector(".gslide-media"),i=e.querySelector(".gslide-description");A(t,"greset"),I(t,"translate3d(0, 0, 0)"),C(r,{onElement:t,once:!0,withCallback:function(){T(t,"greset")}}),t.style.opacity="",i&&(i.style.opacity="")}var i=function(e,t,i){return t&&f(e.prototype,t),i&&f(e,i),e},n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},M=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),s=null!==M||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints,o=document.getElementsByTagName("html")[0],P=document.body,r=function(){var e=void 0,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),l=function(){var e=void 0,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}(),u=Date.now(),B=[],H={},h={selector:"glightbox",skin:"clean",closeButton:!0,startAt:0,autoplayVideos:!0,descPosition:"bottom",width:900,height:506,videosWidth:960,videosHeight:540,beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,onOpen:null,onClose:null,loopAtEnd:!1,touchNavigation:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,jwplayer:{api:null,licenseKey:null,params:{width:"100%",aspectratio:"16:9",stretching:"uniform"}},vimeo:{api:"https://player.vimeo.com/api/player.js",params:{api:1,title:0,byline:0,portrait:0}},youtube:{api:"https://www.youtube.com/iframe_api",params:{enablejsapi:1,showinfo:0}},openEffect:"zoomIn",closeEffect:"zoomOut",slideEffect:"slide",moreText:"See more",moreLength:60,slideHtml:"",lightboxHtml:"",cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slide_back:{in:"slideInLeft",out:"slideOutRight"}}};function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}h.slideHtml='<div class="gslide">         <div class="gslide-inner-content">            <div class="ginner-container">               <div class="gslide-media">               </div>               <div class="gslide-description">                  <h4 class="gslide-title"></h4>                  <div class="gslide-desc"></div>               </div>            </div>         </div>       </div>',h.lightboxHtml='<div id="glightbox-body" class="glightbox-container">            <div class="gloader visible"></div>            <div class="goverlay"></div>            <div class="gcontainer">               <div id="glightbox-slider" class="gslider"></div>               <a class="gnext"></a>               <a class="gprev"></a>               <a class="gclose"></a>            </div>   </div>';function v(e,t){var n=0<arguments.length&&void 0!==e?e:null,s=t,r={href:"",title:"",description:"",descPosition:"bottom",effect:"",node:n};if(z.isObject(n)&&!z.isNode(n))return E(r,n);var i="",l=n.getAttribute("data-glightbox"),o=n.nodeName.toLowerCase();"a"===o&&(i=n.href),"img"===o&&(i=n.src),r.href=i,p(r,function(e,t){z.has(s,t)&&(r[t]=s[t]);var i=n.dataset[t];z.isNil(i)||(r[t]=i)});var a=b(i);if(r=E(r,a),z.isNil(l)){if("a"==o){var c=n.title;z.isNil(c)||""===c||(r.title=c)}if("img"==o){var d=n.alt;z.isNil(d)||""===d||(r.title=d)}var u=n.getAttribute("data-description");z.isNil(u)||""===u||(r.description=u)}else{var h=[];p(r,function(e,t){h.push(";\\s?"+t)}),h=h.join("\\s?:|"),""!==l.trim()&&p(r,function(e,t){var i=l,n=new RegExp("s?"+t+"s?:s?(.*?)("+h+"s?:|$)"),s=i.match(n);if(s&&s.length&&s[1]){var o=s[1].trim().replace(/;\s*$/,"");r[t]=o}})}var f=n.querySelector(".glightbox-desc");f&&(r.description=f.innerHTML),r.sourcetype=r.hasOwnProperty("type")?r.type:r.sourcetype,r.type=r.sourcetype;var v="video"==r.sourcetype?s.videosWidth:s.width,g="video"==r.sourcetype?s.videosHeight:s.height;return r.width=z.has(r,"width")?r.width:v,r.height=z.has(r,"height")?r.height:g,r}function m(e,t,i){var n=0<arguments.length&&void 0!==e?e:null,s=this,o=1<arguments.length&&void 0!==t?t:{},r=2<arguments.length&&void 0!==i&&i;if(L(n,"loaded"))return!1;z.isFunction(this.settings.beforeSlideLoad)&&this.settings.beforeSlideLoad(n,o);var l=o.type,a=o.descPosition,c=n.querySelector(".gslide-media"),d=n.querySelector(".gslide-title"),u=n.querySelector(".gslide-desc"),h=n.querySelector(".gslide-description"),f=r;if(z.isFunction(this.settings.afterSlideLoad)&&(f=function(){z.isFunction(r)&&r(),s.settings.afterSlideLoad(n,o)}),""==o.title&&""==o.description?h&&h.parentNode.removeChild(h):(d&&""!==o.title?d.innerHTML=o.title:d.parentNode.removeChild(d),u&&""!==o.description?M&&0<this.settings.moreLength?(o.smallDescription=function(e,t,i){var n=1<arguments.length&&void 0!==t?t:50,s=2<arguments.length&&void 0!==i&&i,o=s;if((e=e.trim()).length<=n)return e;var r=e.substr(0,n-1);return o?r+'... <a href="#" class="desc-more">'+s+"</a>":r}(o.description,this.settings.moreLength,this.settings.moreText),u.innerHTML=o.smallDescription,function s(e,o){var t=e.querySelector(".desc-more");if(!t)return!1;C("click",{onElement:t,withCallback:function(e,t){e.preventDefault();var i=y(t,".gslide-desc");if(!i)return!1;i.innerHTML=o.description,A(P,"gdesc-open");var n=C("click",{onElement:[P,y(i,".gslide-description")],withCallback:function(e){"a"!==e.target.nodeName.toLowerCase()&&(T(P,"gdesc-open"),A(P,"gdesc-closed"),i.innerHTML=o.smallDescription,s(i,o),setTimeout(function(){T(P,"gdesc-closed")},400),n.destroy())}})}})}.apply(this,[u,o])):u.innerHTML=o.description:u.parentNode.removeChild(u),A(c.parentNode,"desc-"+a),A(h,"description-"+a)),A(c,"gslide-"+l),A(n,"loaded"),"video"!==l)if("external"!==l)if("inline"!==l){if("image"===l){var v=new Image;return v.addEventListener("load",function(){z.isFunction(f)&&f()},!1),v.src=o.href,void c.appendChild(v)}z.isFunction(f)&&f()}else(function(e,t,i){var n=e.querySelector(".gslide-media"),s=document.getElementById(t.inlined.replace("#",""));if(s){var o=s.cloneNode(!0);return o.style.height=t.height+"px",o.style.maxWidth=t.width+"px",A(o,"ginlined-content"),n.appendChild(o),void(z.isFunction(i)&&i())}}).apply(this,[n,o,f]);else{var g=N(o.href,o.width,o.height,f);c.appendChild(g)}else(function(e,i,n){var t,s=this,o=i.source,r="gvideo"+i.index,l=e.querySelector(".gslide-media"),a=i.href,c=location.protocol.replace(":","");if("file"==c&&(c="http"),"vimeo"==o){var d=/vimeo.*\/(\d+)/i.exec(a),u=j(this.settings.vimeo.params),h=c+"://player.vimeo.com/video/"+d[1]+"?"+u;q(this.settings.vimeo.api);var f=N(h,i.width,i.height,function(){!function(e,t,i){if(e())t();else{i=i||100;var n,s=setInterval(function(){e()&&(clearInterval(s),n&&clearTimeout(n),t())},i)}}(function(){return"undefined"!=typeof Vimeo},function(){var e=new Vimeo.Player(f);H[r]=e,z.isFunction(n)&&n()})},l);f.id=r,f.className="vimeo-video gvideo",this.settings.autoplayVideos&&!M&&(f.className+=" wait-autoplay")}if("youtube"==o){var v=j(E(this.settings.youtube.params,{playerapiid:r})),g=c+"://www.youtube.com/embed/"+(void 0!==(t=(t=a).replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?t[2].split(/[^0-9a-z_\-]/i)[0]:t)+"?"+v;q(this.settings.youtube.api);var p=N(g,i.width,i.height,function(){if(!z.isNil(YT)&&YT.loaded){var e=new YT.Player(p);H[r]=e}else B.push(p);z.isFunction(n)&&n()},l);p.id=r,p.className="youtube-video gvideo",this.settings.autoplayVideos&&!M&&(p.className+=" wait-autoplay")}if("local"==o){var y='<video id="'+r+'" ';y+='style="background:#000; width: '+i.width+"px; height: "+i.height+'px;" ',y+='preload="metadata" ',y+='x-webkit-airplay="allow" ',y+='webkit-playsinline="" ',y+="controls ",y+='class="gvideo">';var m={mp4:"",ogg:"",webm:""};for(var b in m[a.toLowerCase().split(".").pop()]=a,m)if(m.hasOwnProperty(b)){var w=m[b];i.hasOwnProperty(b)&&(w=i[b]),""!==w&&(y+='<source src="'+w+'" type="video/'+b+'">')}var S=O(y+="</video>");l.appendChild(S);var x=document.getElementById(r);if(null!==this.settings.jwplayer&&null!==this.settings.jwplayer.api){this.settings.jwplayer;var k=this.settings.jwplayer.api;if(!k)return console.warn("Missing jwplayer api file"),z.isFunction(n)&&n(),!1;q(k,function(){var e=E(s.settings.jwplayer.params,{width:i.width+"px",height:i.height+"px",file:a});jwplayer.key=s.settings.jwplayer.licenseKey;var t=jwplayer(r);t.setup(e),(H[r]=t).on("ready",function(){A(x=l.querySelector(".jw-video"),"gvideo"),x.id=r,z.isFunction(n)&&n()})})}else A(x,"html5-video"),H[r]=x,z.isFunction(n)&&n()}}).apply(this,[n,o,f])}var z={isFunction:function(e){return"function"==typeof e},isString:function(e){return"string"==typeof e},isNode:function(e){return!(!e||!e.nodeType||1!=e.nodeType)},isArray:function(e){return Array.isArray(e)},isArrayLike:function(e){return e&&e.length&&isFinite(e.length)},isObject:function(e){return"object"===(void 0===e?"undefined":n(e))&&null!=e&&!z.isFunction(e)&&!z.isArray(e)},isNil:function(e){return null==e},has:function(e,t){return null!==e&&hasOwnProperty.call(e,t)},size:function(e){if(z.isObject(e)){if(e.keys)return e.keys().length;var t=0;for(var i in e)z.has(e,i)&&t++;return t}return e.length},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}};void 0!==window.onYouTubeIframeAPIReady?window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady(),t()}:window.onYouTubeIframeAPIReady=t;var b=function(e){var t=e,i={};if(null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|gif|png|apn|webp|svg)$/))return i.sourcetype="image",i;if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return i.sourcetype="video",i.source="youtube",i;if(e.match(/vimeo\.com\/([0-9]*)/))return i.sourcetype="video",i.source="vimeo",i;if(null!==e.match(/\.(mp4|ogg|webm)$/))return i.sourcetype="video",i.source="local",i;if(-1<e.indexOf("#")){var n=t.split("#").pop();if(""!==n.trim())return i.sourcetype="inline",i.source=e,i.inlined="#"+n,i}return e.includes("gajax=true")&&(i.sourcetype="ajax",i.source=e),i.sourcetype="external",i.source=e,i},w=(i(S,[{key:"init",value:function(){var i=this;this.baseEvents=C("click",{onElement:"."+this.settings.selector,withCallback:function(e,t){e.preventDefault(),i.open(t)}})}},{key:"open",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;if(this.elements=this.getElements(t),0==this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var i=this.settings.startAt;t&&(i=this.elements.indexOf(t))<0&&(i=0),this.build(),c(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var n=P.offsetWidth;if(P.style.width=n+"px",A(P,"glightbox-open"),A(o,"glightbox-open"),M&&(A(o,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(i,!0),1==this.elements.length?(d(this.prevButton),d(this.nextButton)):(a(this.prevButton),a(this.nextButton)),this.lightboxOpen=!0,z.isFunction(this.settings.onOpen)&&this.settings.onOpen(),M&&s&&this.settings.touchNavigation)return function(){var c=this;if(this.events.hasOwnProperty("touchStart"))return!1;var d=void 0,u=void 0,h=void 0,f=!1,v=!1,g=!1,p=!1,y={},m={},b=(this.slidesContainer,null),w=0,S=0,t=null,x=null,k=null,E=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,this.events.doctouchmove=C("touchmove",{onElement:document,withCallback:function(e){if(L(P,"gdesc-open"))return e.preventDefault(),!1}}),this.events.touchStart=C("touchstart",{onElement:P,withCallback:function(e){L(P,"gdesc-open")||(A(P,"touching"),b=c.getActiveSlide(),t=b.querySelector(".gslide-image"),x=b.querySelector(".gslide-media"),k=b.querySelector(".gslide-description"),c.index,m=e.targetTouches[0],y.pageX=e.targetTouches[0].pageX,y.pageY=e.targetTouches[0].pageY,w=e.targetTouches[0].clientX,S=e.targetTouches[0].clientY)}}),this.events.gestureStart=C("gesturestart",{onElement:P,withCallback:function(e){t&&(e.preventDefault(),g=!0)}}),this.events.gestureChange=C("gesturechange",{onElement:P,withCallback:function(e){e.preventDefault(),I(t,"scale("+e.scale+")")}}),this.events.gesturEend=C("gestureend",{onElement:P,withCallback:function(e){g=!1,e.scale<1?(p=!1,I(t,"scale(1)")):p=!0}}),this.events.touchMove=C("touchmove",{onElement:P,withCallback:function(e){if(L(P,"touching")&&!(L(P,"gdesc-open")||g||p)){e.preventDefault(),m=e.targetTouches[0];var t=b.querySelector(".gslide-inner-content").offsetHeight,i=b.querySelector(".gslide-inner-content").offsetWidth,n=e.targetTouches[0].clientX,s=e.targetTouches[0].clientY,o=w-n,r=S-s;if(Math.abs(o)>Math.abs(r)?v=!(f=!1):f=!(v=!1),f){if(u=m.pageY-y.pageY,0<=Math.abs(u)||f){var l=.75-Math.abs(u)/t;x.style.opacity=l,k&&(k.style.opacity=l),I(x,"translate3d(0, "+u+"px, 0)")}}else if(d=m.pageX-y.pageX,h=100*d/E,v){if(c.index+1==c.elements.length&&d<-60)return F(b),!1;if(c.index-1<0&&60<d)return F(b),!1;var a=.75-Math.abs(d)/i;x.style.opacity=a,k&&(k.style.opacity=a),I(x,"translate3d("+h+"%, 0, 0)")}}}}),this.events.touchEnd=C("touchend",{onElement:P,withCallback:function(){u=m.pageY-y.pageY,d=m.pageX-y.pageX,h=100*d/E,T(P,"touching");var e=b.querySelector(".gslide-inner-content").offsetHeight,t=b.querySelector(".gslide-inner-content").offsetWidth;if(f){var i=e/2;return f=!1,Math.abs(u)>=i?void c.close():void F(b)}if(v){var n="prev",s=!(v=!1);if(d<0&&(n="next",d=Math.abs(d)),"prev"==n&&c.index-1<0&&(s=!1),"next"==n&&c.index+1>=c.elements.length&&(s=!1),s&&t/2-90<=d)return void("next"==n?c.nextSlide():c.prevSlide());F(b)}}})}.apply(this),!1;this.settings.keyboardNavigation&&function(){var i=this;if(this.events.hasOwnProperty("keyboard"))return!1;this.events.keyboard=C("keydown",{onElement:window,withCallback:function(e){var t=(e=e||window.event).keyCode;39==t&&i.nextSlide(),37==t&&i.prevSlide(),27==t&&i.close()}})}.apply(this)}},{key:"showSlide",value:function(e,t){var i=this,n=0<arguments.length&&void 0!==e?e:0,s=1<arguments.length&&void 0!==t&&t;a(this.loader),this.index=n;var o=this.slidesContainer.querySelector(".current");o&&T(o,"current"),this.slideAnimateOut();var r=this.slidesContainer.querySelectorAll(".gslide")[n];if(a(this.slidesContainer),L(r,"loaded"))this.slideAnimateIn(r,s),d(this.loader);else{a(this.loader);var l=v(this.elements[n],this.settings);l.index=n,m.apply(this,[r,l,function(){d(i.loader),i.slideAnimateIn(r,s)}])}this.preloadSlide(n+1),this.preloadSlide(n-1),T(this.nextButton,"disabled"),T(this.prevButton,"disabled"),0===n?A(this.prevButton,"disabled"):n===this.elements.length-1&&!0!==this.settings.loopAtEnd&&A(this.nextButton,"disabled"),this.activeSlide=r}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length)return!1;if(z.isNil(this.elements[e]))return!1;var i=this.slidesContainer.querySelectorAll(".gslide")[e];if(L(i,"loaded"))return!1;var n=v(this.elements[e],this.settings);n.index=e;var s=n.sourcetype;"video"==s||"external"==s?setTimeout(function(){m.apply(t,[i,n])},200):m.apply(this,[i,n])}},{key:"prevSlide",value:function(){var e=this.index-1;if(e<0)return!1;this.goToSlide(e)}},{key:"nextSlide",value:function(){var e=this.index+1;if(e>this.elements.length)return!1;this.goToSlide(e)}},{key:"goToSlide",value:function(e){var t=0<arguments.length&&void 0!==e&&e;-1<t&&(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,t<this.elements.length?this.showSlide(t):!0===this.settings.loopAtEnd&&(t=0,this.showSlide(t)))}},{key:"slideAnimateIn",value:function(e,t){var i=this,n=e.querySelector(".gslide-media"),s=e.querySelector(".gslide-description"),o={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},r={index:this.index,slide:this.activeSlide};if(0<n.offsetWidth&&s&&(d(s),e.querySelector(".ginner-container").style.maxWidth=n.offsetWidth+"px",s.style.display=""),T(e,this.effectsClasses),t)c(e,this.settings.openEffect,function(){!M&&i.settings.autoplayVideos&&i.playSlideVideo(e),z.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,r])});else{var l=this.settings.slideEffect,a="none"!==l?this.settings.cssEfects[l].in:l;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(a=this.settings.cssEfects.slide_back.in),c(e,a,function(){!M&&i.settings.autoplayVideos&&i.playSlideVideo(e),z.isFunction(i.settings.afterSlideChange)&&i.settings.afterSlideChange.apply(i,[o,r])})}A(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var i=this.prevActiveSlide;T(i,this.effectsClasses),A(i,"prev");var e=this.settings.slideEffect,t="none"!==e?this.settings.cssEfects[e].out:e;this.stopSlideVideo(i),z.isFunction(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide},{index:this.index,slide:this.activeSlide}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(t=this.settings.cssEfects.slide_back.out),c(i,t,function(){var e=i.querySelector(".gslide-media"),t=i.querySelector(".gslide-description");e.style.transform="",T(e,"greset"),e.style.opacity="",t&&(t.style.opacity=""),T(i,"prev")})}},{key:"stopSlideVideo",value:function(e){z.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e?e.querySelector(".gvideo"):null;if(!t)return!1;var i=t.id;if(H&&H.hasOwnProperty(i)){var n=H[i];L(t,"vimeo-video")&&n.pause(),L(t,"youtube-video")&&n.pauseVideo(),L(t,"jw-video")&&n.pause(!0),L(t,"html5-video")&&n.pause()}}},{key:"playSlideVideo",value:function(e){z.isNumber(e)&&(e=this.slidesContainer.querySelectorAll(".gslide")[e]);var t=e.querySelector(".gvideo");if(!t)return!1;var i=t.id;if(H&&H.hasOwnProperty(i)){var n=H[i];return L(t,"vimeo-video")&&n.play(),L(t,"youtube-video")&&n.playVideo(),L(t,"jw-video")&&n.play(),L(t,"html5-video")&&n.play(),setTimeout(function(){T(t,"wait-autoplay")},300),!1}}},{key:"setElements",value:function(e){this.settings.elements=e}},{key:"getElements",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;if(this.elements=[],!z.isNil(this.settings.elements)&&z.isArray(this.settings.elements))return this.settings.elements;var i=!1;if(null!==t){var n=t.getAttribute("data-gallery");n&&""!==n&&(i=document.querySelectorAll('[data-gallery="'+n+'"]'))}return 0==i&&(i=document.querySelectorAll("."+this.settings.selector)),Array.prototype.slice.call(i)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var i=this.settings.cssEfects[t];e.push("g"+i.in),e.push("g"+i.out)}return e.join(" ")}},{key:"build",value:function(){var t=this;if(this.built)return!1;var e=O(this.settings.lightboxHtml);document.body.appendChild(e);var i=document.getElementById("glightbox-body"),n=(this.modal=i).querySelector(".gclose");this.prevButton=i.querySelector(".gprev"),this.nextButton=i.querySelector(".gnext"),this.overlay=i.querySelector(".goverlay"),this.loader=i.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.events={},A(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&n&&(this.events.close=C("click",{onElement:n,withCallback:function(e){e.preventDefault(),t.close()}})),n&&!this.settings.closeButton&&n.parentNode.removeChild(n),this.nextButton&&(this.events.next=C("click",{onElement:this.nextButton,withCallback:function(e){e.preventDefault(),t.nextSlide()}})),this.prevButton&&(this.events.prev=C("click",{onElement:this.prevButton,withCallback:function(e){e.preventDefault(),t.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=C("click",{onElement:i,withCallback:function(e){y(e.target,".ginner-container")||L(e.target,"gnext")||L(e.target,"gprev")||t.close()}})),p(this.elements,function(){var e=O(t.settings.slideHtml);t.slidesContainer.appendChild(e)}),s&&A(o,"glightbox-touch"),this.built=!0}},{key:"reload",value:function(){this.init()}},{key:"close",value:function(){var t=this;if(this.closing)return!1;this.closing=!0,this.stopSlideVideo(this.activeSlide),A(this.modal,"glightbox-closing"),c(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),c(this.activeSlide,this.settings.closeEffect,function(){if(t.activeSlide=null,t.prevActiveSlideIndex=null,t.prevActiveSlide=null,t.built=!1,t.events)for(var e in t.events)t.events.hasOwnProperty(e)&&t.events[e].destroy();T(P,"glightbox-open"),T(o,"glightbox-open"),T(P,"touching"),T(P,"gdesc-open"),P.style.width="",t.modal.parentNode.removeChild(t.modal),z.isFunction(t.settings.onClose)&&t.settings.onClose(),t.closing=null})}},{key:"destroy",value:function(){this.close(),this.baseEvents.destroy()}}]),S);function S(e){!function(e){if(!(e instanceof S))throw new TypeError("Cannot call a class as a function")}(this),this.settings=E(h,e||{}),this.effectsClasses=this.getAnimationClasses()}e.exports=function(){var e=new w(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return e.init(),e}});